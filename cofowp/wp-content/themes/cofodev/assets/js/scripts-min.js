var cofo={};$(document).ready(function(){cofo.init()}),cofo.init=function(){$(".single-product").length&&(cofo.initProductDetails(),cofo.initProductGallery()),$(".page-about").length&&cofo.fluidVids()},cofo.initProductDetails=function(){var e=$(".product-details-container"),t=155,i=$("#product-details").outerHeight(),o=e.offset().top-t,a,s,l;$(window).scroll(function(){a=$(this).scrollTop(),s=$(".product-dimensions").offset().top,a>=o&&e.addClass("fixed"),a+i+t>=s&&(e.removeClass("fixed"),e.css({position:"absolute",top:s-i})),a<o&&(e.removeClass("fixed"),e.css({position:"relative",top:0}))}),$(".swatch-toggle").on("mouseup",function(){l=$(this).attr("for"),$(".togglable").addClass("hidden").each(function(){$(this).data("id")===l&&$(this).removeClass("hidden")}),$(window).trigger("resize")})},cofo.initProductGallery=function(){$(".open").on("click",function(){$(".image-gallery").fadeIn();var e=$(this).siblings().attr("class");$(".thumbnail-img").each(function(){$(this).hasClass(e)?($(this).addClass("active"),$(".main-img").addClass("hidden").each(function(){$(this).hasClass(e)&&$(this).removeClass("hidden")})):$(this).removeClass("active")})}),$(".close").on("click",function(){$(".image-gallery").fadeOut("slow")}),$(".thumbnail-img").on("click",function(){$(".thumbnail-img").removeClass("active");var e=$(this).removeClass("thumbnail-img togglable").attr("class");$(this).addClass("active thumbnail-img togglable"),console.log(e,"poop"),$(".main-img").addClass("hidden").each(function(){$(this).hasClass(e)&&$(this).removeClass("hidden")})})},cofo.fluidVids=function(){for(var e=document.getElementsByTagName("iframe"),t=0;t<e.length;t++){var i=e[t],o=/www.youtube.com|player.vimeo.com/,a=i.src;if(a.search(o)!==-1){i.src="";var s=i.height/i.width*100;i.style.position="absolute",i.style.top="0",i.style.left="0",i.width="100%",i.height="100%",i.webkitallowfullscreen="true",i.mozallowfullscreen="true",i.allowfullscreen="true";var l=document.createElement("div");l.className="video-wrap",l.style.width="100%",l.style.position="relative",l.style.paddingTop=s+"%";var n=i.parentNode;n.insertBefore(l,i),l.appendChild(i);var d;if(a.indexOf("youtube")!==-1&&$(".modal").length&&(d="wmode=transparent&autoplay=1"),a.indexOf("youtube")===-1||$(".modal").length||(d="wmode=transparent"),a.indexOf("vimeo")!==-1&&$(".modal").length&&(d="autoplay=1"),a.indexOf("?")!==-1){var c=a.split("?"),r=c[1],u=c[0];a=u+"?"+d+"&"+r}else a=a+"?"+d;i.src=a}}};