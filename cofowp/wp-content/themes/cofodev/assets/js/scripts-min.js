var cofo={};$(document).ready(function(){cofo.init()}),cofo.init=function(){$(".single-product").length&&(cofo.initProductDetails(),cofo.initProductGallery()),$(".page-about").length&&cofo.fluidVids()},cofo.initProductDetails=function(){var e=$(".product-details-container"),t=155,i=$("#product-details").outerHeight(),o=e.offset().top-t,a,n,l;$(window).scroll(function(){a=$(this).scrollTop(),n=$(".product-dimensions").offset().top,a>=o&&e.addClass("fixed"),a+i+t>=n&&(e.removeClass("fixed"),e.css({position:"absolute",top:n-i})),a<o&&(e.removeClass("fixed"),e.css({position:"relative",top:0}))}),$(".swatch-toggle").on("mouseup",function(){l=$(this).attr("for"),$(".togglable").addClass("hidden").each(function(){$(this).data("id")===l&&$(this).removeClass("hidden")}),$(window).trigger("resize")})},cofo.initProductGallery=function(){$(".open").on("click",function(){$(".image-gallery").fadeIn();var e=$(this).siblings().attr("class");$(".thumbnail-img").each(function(){$(this).hasClass(e)?($(this).addClass("active"),$(this).children("img").clone().appendTo(".image-gallery .main-img")):$(this).removeClass("active")})}),$(".close").on("click",function(){$(".image-gallery").fadeOut("slow",function(){$(".image-gallery .main-img").empty()}),$(".thumbnail-img").removeClass("active").removeClass("prev").removeClass("next")}),$(".thumbnail-img").on("click",function(){$(".thumbnail-img").removeClass("active"),$(this).addClass("active"),$(".image-gallery .main-img").empty(),$(this).clone().appendTo(".image-gallery .main-img")}),$(".btn-prev").on("click",function(){}),$(".btn-next").on("click",function(){$(".thumbnails .active").next().hasClass("thumbnail-img")?$(".thumbnails .active").next().addClass("next"):console.log("no next!")})},cofo.fluidVids=function(){for(var e=document.getElementsByTagName("iframe"),t=0;t<e.length;t++){var i=e[t],o=/www.youtube.com|player.vimeo.com/,a=i.src;if(a.search(o)!==-1){i.src="";var n=i.height/i.width*100;i.style.position="absolute",i.style.top="0",i.style.left="0",i.width="100%",i.height="100%",i.webkitallowfullscreen="true",i.mozallowfullscreen="true",i.allowfullscreen="true";var l=document.createElement("div");l.className="video-wrap",l.style.width="100%",l.style.position="relative",l.style.paddingTop=n+"%";var s=i.parentNode;s.insertBefore(l,i),l.appendChild(i);var c;if(a.indexOf("youtube")!==-1&&$(".modal").length&&(c="wmode=transparent&autoplay=1"),a.indexOf("youtube")===-1||$(".modal").length||(c="wmode=transparent"),a.indexOf("vimeo")!==-1&&$(".modal").length&&(c="autoplay=1"),a.indexOf("?")!==-1){var r=a.split("?"),d=r[1],m=r[0];a=m+"?"+c+"&"+d}else a=a+"?"+c;i.src=a}}};