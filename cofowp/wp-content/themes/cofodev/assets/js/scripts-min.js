var cofo={};$(document).ready(function(){cofo.init()}),cofo.init=function(){$(".single-product").length&&(cofo.initProductDetails(),cofo.initProductGallery()),$(".page-about").length&&cofo.fluidVids(),$(".page-design-challenge").length&&cofo.initMasonry()},cofo.initProductDetails=function(){var e=$(".product-details-container"),t=155,i=$("#product-details").outerHeight(),o=e.offset().top-t,a,s,n;$(window).scroll(function(){a=$(this).scrollTop(),s=$(".product-dimensions").offset().top,a>=o&&e.addClass("fixed"),a+i+t>=s&&(e.removeClass("fixed"),e.css({position:"absolute",top:s-i})),a<o&&(e.removeClass("fixed"),e.css({position:"relative",top:0}))}),$(".swatch-toggle").on("mouseup",function(){n=$(this).attr("for"),$(".togglable").addClass("hidden").each(function(){$(this).data("id")===n&&$(this).removeClass("hidden")}),$(window).trigger("resize")})},cofo.initProductGallery=function(){$(".product-explore img").on("click",function(){$(".image-gallery").fadeIn();var e=$(this).attr("class");$(".thumbnail-img").each(function(){$(this).hasClass(e)?($(this).addClass("active"),$(".main-img").addClass("hidden").each(function(){$(this).hasClass(e)&&$(this).removeClass("hidden")})):$(this).removeClass("active")})}),$(".close").on("click",function(){$(".image-gallery").fadeOut("slow")}),$(".thumbnail-img").on("click",function(){$(".thumbnail-img").removeClass("active");var e=$(this).removeClass("thumbnail-img togglable").attr("class");$(this).addClass("active thumbnail-img togglable"),console.log(e,"poop"),$(".main-img").addClass("hidden").each(function(){$(this).hasClass(e)&&$(this).removeClass("hidden")})})},cofo.initMasonry=function(){var e=$(".masonry-gallery");e.masonry({gutter:24,columnWidth:".grid-sizer",itemSelector:".grid-item",transitionDuration:0,percentPosition:!0})},cofo.fluidVids=function(){for(var e=document.getElementsByTagName("iframe"),t=0;t<e.length;t++){var i=e[t],o=/www.youtube.com|player.vimeo.com/,a=i.src;if(a.search(o)!==-1){i.src="";var s=i.height/i.width*100;i.style.position="absolute",i.style.top="0",i.style.left="0",i.width="100%",i.height="100%",i.webkitallowfullscreen="true",i.mozallowfullscreen="true",i.allowfullscreen="true";var n=document.createElement("div");n.className="video-wrap",n.style.width="100%",n.style.position="relative",n.style.paddingTop=s+"%";var l=i.parentNode;l.insertBefore(n,i),n.appendChild(i);var r;if(a.indexOf("youtube")!==-1&&$(".modal").length&&(r="wmode=transparent&autoplay=1"),a.indexOf("youtube")===-1||$(".modal").length||(r="wmode=transparent"),a.indexOf("vimeo")!==-1&&$(".modal").length&&(r="autoplay=1"),a.indexOf("?")!==-1){var c=a.split("?"),d=c[1],u=c[0];a=u+"?"+r+"&"+d}else a=a+"?"+r;i.src=a}}};