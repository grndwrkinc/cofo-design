var cofo={};$(document).ready(function(){cofo.init()}),cofo.init=function(){$(".single-product").length&&(cofo.initProductDetails(),cofo.initProductGallery()),$(".page-about").length&&cofo.fluidVids(),$(".page-design-challenge").length&&cofo.initMasonry()},cofo.initProductDetails=function(){var e=$(".product-details-container"),i=155,t=$("#product-details").outerHeight(),a=e.offset().top-i,l,n,o;$(window).scroll(function(){l=$(this).scrollTop(),n=$(".product-dimensions").offset().top,l>=a&&e.addClass("fixed"),l+t+i>=n&&(e.removeClass("fixed"),e.css({position:"absolute",top:n-t})),l<a&&(e.removeClass("fixed"),e.css({position:"relative",top:0}))}),$(".swatch-toggle").on("mouseup",function(){o=$(this).attr("for"),$(".togglable").addClass("hidden").each(function(){$(this).data("id")===o&&$(this).removeClass("hidden")}),$(window).trigger("resize")})},cofo.initProductGallery=function(){$(".product-explore img").on("click",function(){$(".image-gallery").fadeIn(100);var e=$(this).attr("class");$(".thumbnail-img").each(function(){$(this).hasClass(e)?($(this).addClass("active"),$(".main-img").addClass("hidden").each(function(){$(this).hasClass(e)&&$(this).removeClass("hidden")})):$(this).removeClass("active")})}),$(".close").on("click",function(){$(".image-gallery").fadeOut(100)}),$(".thumbnail-img").on("click",function(){$(".thumbnail-img").removeClass("active");var e=$(this).removeClass("thumbnail-img togglable").attr("class");$(this).addClass("active thumbnail-img togglable"),$(".main-img").addClass("hidden").each(function(){$(this).hasClass(e)&&$(this).removeClass("hidden")})}),$(".btn-prev").on("click",function(){var e=$(".image-gallery .thumbnails .thumbnail-img").not(".hidden"),i=$(".image-gallery .thumbnails .thumbnail-img.active").removeClass("active");i.prev()&&i.prev().not(".hidden").length?i.prev().addClass("active"):e.last().addClass("active"),$(".image-gallery .thumbnails .thumbnail-img.active").click()}),$(".btn-next").on("click",function(){var e=$(".image-gallery .thumbnails .thumbnail-img").not(".hidden"),i=$(".image-gallery .thumbnails .thumbnail-img.active").removeClass("active");i.next()&&i.next().not(".hidden").length?i.next().addClass("active"):e.first().addClass("active"),$(".image-gallery .thumbnails .thumbnail-img.active").click()})},cofo.initMasonry=function(){var e=$(".masonry-gallery");e.masonry({gutter:24,columnWidth:".grid-sizer",itemSelector:".grid-item",transitionDuration:0,percentPosition:!0})},cofo.fluidVids=function(){for(var e=document.getElementsByTagName("iframe"),i=0;i<e.length;i++){var t=e[i],a=/www.youtube.com|player.vimeo.com/,l=t.src;if(l.search(a)!==-1){t.src="";var n=t.height/t.width*100;t.style.position="absolute",t.style.top="0",t.style.left="0",t.width="100%",t.height="100%",t.webkitallowfullscreen="true",t.mozallowfullscreen="true",t.allowfullscreen="true";var o=document.createElement("div");o.className="video-wrap",o.style.width="100%",o.style.position="relative",o.style.paddingTop=n+"%";var s=t.parentNode;s.insertBefore(o,t),o.appendChild(t);var r;if(l.indexOf("youtube")!==-1&&$(".modal").length&&(r="wmode=transparent&autoplay=1"),l.indexOf("youtube")===-1||$(".modal").length||(r="wmode=transparent"),l.indexOf("vimeo")!==-1&&$(".modal").length&&(r="autoplay=1"),l.indexOf("?")!==-1){var c=l.split("?"),d=c[1],m=c[0];l=m+"?"+r+"&"+d}else l=l+"?"+r;t.src=l}}};